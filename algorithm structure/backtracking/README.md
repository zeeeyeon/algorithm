# ë°±íŠ¸ë˜í‚¹(Backtracking) ğŸŒ 

> ## ê°œë…
> - ì—¬ëŸ¬ ê°€ì§€ ì„ íƒì§€(ì˜µì…˜)ë“¤ì´ ì¡´ì¬í•˜ëŠ” ìƒí™©ì—ì„œ í•œê°€ì§€ë¥¼ ì„ íƒ
> - ì„ íƒì´ ì´ë£¨ì–´ì§€ë©´ ìƒˆë¡œìš´ ì„ íƒì§€ë“¤ì˜ ì§‘í•©ì´ ìƒì„±
> - ì„ íƒì„ ë°˜ë³µí•˜ë©´ì„œ ìµœì¢… ìƒíƒœì— ë„ë‹¬ (ì˜¬ë°”ë¥¸ ì„ íƒì„ ê³„ì†í•˜ë©´ ëª©í‘œì— ë„ë‹¬)

> ### ë°±íŠ¸ë˜í‚¹ê³¼ ê¹Šì´ ìš°ì„  íƒìƒ‰ê³¼ì˜ ì°¨ì´
> - ì–´ë–¤ ë…¸ë“œì—ì„œ ì¶œë°œí•˜ëŠ” ê²½ë¡œê°€ í•´ê²°ì±…ìœ¼ë¡œ ì´ì–´ì§ˆ ê²ƒ ê°™ì§€ ì•Šìœ¼ë©´ ë” ì´ìƒ ê·¸ ê²½ë¡œë¥¼ ë”°ë¼ê°€ì§€ ì•ŠìŒìœ¼ë¡œì¨ ì‹œë„ íšŸìˆ˜ë¥¼ ì¤„ì„ (Prunning ê°€ì§€ì¹˜ê¸°)
> - ê¹Šì´ ìš°ì„  íƒìƒ‰ì´ ëª¨ë“  ê²½ë¡œë¥¼ ì¶”ì í•˜ëŠ”ë° ë¹„í•´ ë°±íŠ¸ë˜í‚¹ì€ ë¶ˆí•„ìš”í•œ ê²½ë¡œë¥¼ ì¡°ê¸°ì— ì°¨ë‹¨
> - ê¹Šì´ ìš°ì„  íƒìƒ‰ì„ ê°€í•˜ê¸°ì—ëŠ” ê²½ìš°ì˜ ìˆ˜ê°€ ë„ˆë¬´ ë§ìŒ. N! ê°€ì§€ì˜ ê²½ìš°ì˜ ìˆ˜ë¥¼ ê°€ì§„ ë¬¸ì œëŠ” ì²˜ë¦¬ ë¶ˆê°€ëŠ¥
> - ë°±íŠ¸ë˜í‚¹ ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ë©´ ê²½ìš°ì˜ ìˆ˜ëŠ” ì¤„ì§€ë§Œ ìµœì•…ì˜ ê²½ìš°ì—ëŠ” ì§€ìˆ˜í•¨ìˆ˜ ì‹œê°„ì„ ìš”í•˜ë¯€ë¡œ ì²˜ë¦¬ ë¶ˆê°€ëŠ¥

> ### ì ˆì°¨
> - 1. ìƒíƒœ ê³µê°„ íŠ¸ë¦¬ì˜ ê¹Šì´ ìš°ì„  ê²€ìƒ‰ì„ ì‹¤ì‹œ
> - 2. ê° ë…¸ë“œê°€ ìœ ë§í•œì§€(ì„¤ê³„ ë‹¨ê³„ì—ì„œ ìœ ë§í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ìƒê°í•˜ê³  êµ¬í˜„)
> - 3. ë…¸ë“œê°€ ìœ ë§í•˜ì§€ ì•Šìœ¼ë©´, ê·¸ ë…¸ë“œì˜ ë¶€ëª¨ ë…¸ë“œë¡œ ëŒì•„ê°€ì„œ ê²€ìƒ‰ì„ ê³„ì†í•œë‹¤.

```
def check(row):
    for col in range(row):
        if visited[row] == visited[col]:
            return False

        # ì—´ê³¼ í–‰ì˜ ì°¨ì´ê°€ ê°™ë‹¤ == í˜„ì¬ col ì˜ ì¢Œìš° ëŒ€ê°ì„ ì´ë‹¤
        if abs(visited[row] - visited[col]) == abs(row - col):
            return False

    return True


def dfs(row):
    global cnt

    if row == N:
        cnt += 1
        return

    for col in range(N):
        # visited[row][col] = 1      ì´ë ‡ê²Œ ì‚¬ìš© x
        # ì´ì°¨ì› ë°°ì—´ì„ ì‚¬ìš©í•˜ì§€ì•Šê³  í•´ë‹¹ í–‰ì˜ ëª‡ë²ˆ ì§¸ ì—´ì— ë°°ì¹˜ í–ˆë‹¤ë¼ê³  visited í‘œì‹œ        
        visited[row] = col
        if not check(row):
            continue

        dfs(row + 1)

T = int(input())
for tc in range(1, T + 1):
    N = int(input())
    visited = [0] * N
    cnt = 0

    dfs(0)
    print(f'#{tc} {cnt}')
```